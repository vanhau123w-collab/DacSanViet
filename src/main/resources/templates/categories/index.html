<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh Mục - Đặc Sản Quê Hương</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <style>
        .navbar-brand { font-weight: 700; }
        .nav-link { font-weight: 500; }
        .btn-danger { background: #dc3545; border: none; }
        .btn-danger:hover { background: #c82333; }
        
        .page-header {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            padding: 60px 0;
        }
        
        .category-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            height: 100%;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .category-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            color: white;
        }
        
        .category-icon.north { background: linear-gradient(135deg, #3498db, #2980b9); }
        .category-icon.central { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .category-icon.south { background: linear-gradient(135deg, #27ae60, #229954); }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger sticky-top">
        <div class="container">
            <a class="navbar-brand" th:href="@{/}">
                <i class="bi bi-shop me-2"></i>Đặc Sản Quê Hương
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/}">
                            <i class="bi bi-house me-1"></i>Trang Chủ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/products}">
                            <i class="bi bi-grid me-1"></i>Sản Phẩm
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" th:href="@{/categories}">
                            <i class="bi bi-tags me-1"></i>Danh Mục
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/orders}">
                            <i class="bi bi-bag me-1"></i>Đơn Hàng
                        </a>
                    </li>
                </ul>
                
                <!-- Search Form -->
                <form class="d-flex me-3" th:action="@{/products/search}" method="get">
                    <div class="input-group">
                        <input class="form-control" type="search" name="keyword" placeholder="Tìm kiếm sản phẩm...">
                        <button class="btn btn-outline-light" type="submit">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </form>
                
                <!-- User Menu -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link position-relative" th:href="@{/cart}">
                            <i class="bi bi-cart3 fs-5"></i>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle me-1"></i>
                            <span sec:authentication="name">User</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" th:href="@{/profile}">
                                <i class="bi bi-person me-2"></i>Thông Tin Cá Nhân
                            </a></li>
                            <li sec:authorize="hasRole('ADMIN')">
                                <a class="dropdown-item" th:href="@{/admin/dashboard}">
                                    <i class="bi bi-speedometer2 me-2"></i>Quản Trị
                                </a>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <form th:action="@{/logout}" method="post" class="d-inline">
                                    <button type="submit" class="dropdown-item text-danger">
                                        <i class="bi bi-box-arrow-right me-2"></i>Đăng Xuất
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Page Header -->
    <section class="page-header text-center">
        <div class="container">
            <h1 class="display-4 fw-bold mb-3">Danh Mục Sản Phẩm</h1>
            <p class="lead mb-0">Khám phá đặc sản từ ba miền Bắc - Trung - Nam</p>
        </div>
    </section>
    
    <!-- Main Content -->
    <main class="container my-5">
        <!-- Categories Grid -->
        <div class="row g-4 justify-content-center">
            <!-- Miền Bắc -->
            <div class="col-lg-4 col-md-6">
                <div class="card category-card text-center">
                    <div class="card-body p-4">
                        <div class="category-icon north">
                            <i class="bi bi-geo-alt-fill"></i>
                        </div>
                        <h3 class="fw-bold mb-3 text-primary">Miền Bắc</h3>
                        <p class="text-muted mb-4">
                            Khám phá hương vị đặc trưng của vùng đất Bắc Bộ với những món ăn truyền thống 
                            được chế biến từ nguyên liệu tươi ngon, đậm đà bản sắc văn hóa.
                        </p>
                        
                        <!-- Sample Products -->
                        <div class="mb-4">
                            <h6 class="fw-bold mb-2">Sản phẩm nổi bật:</h6>
                            <div class="d-flex flex-wrap gap-1 justify-content-center">
                                <span class="badge bg-light text-dark">Bánh chưng</span>
                                <span class="badge bg-light text-dark">Nem chua</span>
                                <span class="badge bg-light text-dark">Chả cá Lã Vọng</span>
                                <span class="badge bg-light text-dark">Bánh cuốn</span>
                                <span class="badge bg-light text-dark">Phở Hà Nội</span>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <a th:href="@{/products?category=1}" class="btn btn-primary btn-lg">
                                <i class="bi bi-arrow-right me-2"></i>Xem Sản Phẩm Miền Bắc
                            </a>
                            <small class="text-muted">
                                <span th:text="${categories != null and categories.size() > 0 ? categories[0].productCount : '0'}">0</span> sản phẩm
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Miền Trung -->
            <div class="col-lg-4 col-md-6">
                <div class="card category-card text-center">
                    <div class="card-body p-4">
                        <div class="category-icon central">
                            <i class="bi bi-sun-fill"></i>
                        </div>
                        <h3 class="fw-bold mb-3 text-warning">Miền Trung</h3>
                        <p class="text-muted mb-4">
                            Trải nghiệm hương vị cay nồng đặc trưng của miền Trung với những món ăn 
                            được chế biến tinh tế, mang đậm nét văn hóa cung đình Huế.
                        </p>
                        
                        <!-- Sample Products -->
                        <div class="mb-4">
                            <h6 class="fw-bold mb-2">Sản phẩm nổi bật:</h6>
                            <div class="d-flex flex-wrap gap-1 justify-content-center">
                                <span class="badge bg-light text-dark">Bún bò Huế</span>
                                <span class="badge bg-light text-dark">Bánh khoái</span>
                                <span class="badge bg-light text-dark">Mắm ruốc</span>
                                <span class="badge bg-light text-dark">Bánh bèo</span>
                                <span class="badge bg-light text-dark">Nem lụi</span>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <a th:href="@{/products?category=2}" class="btn btn-warning btn-lg">
                                <i class="bi bi-arrow-right me-2"></i>Xem Sản Phẩm Miền Trung
                            </a>
                            <small class="text-muted">
                                <span th:text="${categories != null and categories.size() > 1 ? categories[1].productCount : '0'}">0</span> sản phẩm
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Miền Nam -->
            <div class="col-lg-4 col-md-6">
                <div class="card category-card text-center">
                    <div class="card-body p-4">
                        <div class="category-icon south">
                            <i class="bi bi-water"></i>
                        </div>
                        <h3 class="fw-bold mb-3 text-success">Miền Nam</h3>
                        <p class="text-muted mb-4">
                            Thưởng thức hương vị ngọt thanh, đậm đà của miền Nam với những món ăn 
                            được chế biến từ nguyên liệu tươi ngon của vùng đất phù sa.
                        </p>
                        
                        <!-- Sample Products -->
                        <div class="mb-4">
                            <h6 class="fw-bold mb-2">Sản phẩm nổi bật:</h6>
                            <div class="d-flex flex-wrap gap-1 justify-content-center">
                                <span class="badge bg-light text-dark">Bánh tráng</span>
                                <span class="badge bg-light text-dark">Hủ tiếu</span>
                                <span class="badge bg-light text-dark">Bánh xèo</span>
                                <span class="badge bg-light text-dark">Cơm tấm</span>
                                <span class="badge bg-light text-dark">Bánh mì</span>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <a th:href="@{/products?category=3}" class="btn btn-success btn-lg">
                                <i class="bi bi-arrow-right me-2"></i>Xem Sản Phẩm Miền Nam
                            </a>
                            <small class="text-muted">
                                <span th:text="${categories != null and categories.size() > 2 ? categories[2].productCount : '0'}">0</span> sản phẩm
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Actions -->
        <div class="row mt-5">
            <div class="col-12 text-center">
                <h3 class="fw-bold mb-4">Khám Phá Thêm</h3>
                <div class="d-flex gap-3 justify-content-center flex-wrap">
                    <a th:href="@{/products}" class="btn btn-danger btn-lg">
                        <i class="bi bi-grid me-2"></i>Xem Tất Cả Sản Phẩm
                    </a>
                    <a th:href="@{/}" class="btn btn-outline-danger btn-lg">
                        <i class="bi bi-house me-2"></i>Về Trang Chủ
                    </a>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container text-center">
            <h5><i class="bi bi-shop me-2"></i>Đặc Sản Quê Hương</h5>
            <p class="text-muted mb-0">&copy; 2024 Đặc Sản Quê Hương. Tất cả quyền được bảo lưu.</p>
        </div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>