<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
    <title>B·∫£n ƒê·ªì ƒê·∫∑c S·∫£n Vi·ªát Nam</title>
    <style>
        /* --- General Styles --- */
        .about-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
            text-align: center;
        }
        
        /* --- Map Section Styles --- */
        .vietnam-map-section {
            padding: 80px 0;
            background: #f8f9fa;
        }
        
        .map-container {
            position: relative;
            max-width: 100%;
            margin: 0 auto;
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
        }
        
        .vietnam-map {
            width: 100%;
            height: auto;
            max-height: 800px; /* Gi·ªõi h·∫°n chi·ªÅu cao ƒë·ªÉ map kh√¥ng qu√° l·ªõn */
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        }
        
        /* Style cho c√°c t·ªânh */
        .province {
            fill: #e9ecef; /* M√†u n·ªÅn m·∫∑c ƒë·ªãnh (m√†u x√°m nh·∫°t) */
            stroke: #fff;
            stroke-width: 0.5;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* M√†u theo v√πng mi·ªÅn (ƒë∆∞·ª£c th√™m class b·∫±ng JS) */
        .province.north { fill: #007bff; } /* Mi·ªÅn B·∫Øc: Xanh d∆∞∆°ng */
        .province.central { fill: #ffc107; } /* Mi·ªÅn Trung: V√†ng */
        .province.south { fill: #28a745; } /* Mi·ªÅn Nam: Xanh l√° */

        /* Hi·ªáu ·ª©ng khi Hover */
        .province:hover {
            fill: #dc3545 !important; /* ƒê·ªïi m√†u ƒë·ªè khi hover (ghi ƒë√® m√†u v√πng) */
            stroke: #333; /* Vi·ªÅn ƒë·∫≠m h∆°n */
            stroke-width: 1;
            filter: brightness(1.1);
            transform-origin: center; 
            /* L∆∞u √Ω: Kh√¥ng d√πng scale transform v·ªõi SVG map ph·ª©c t·∫°p v√¨ s·∫Ω b·ªã l·ªách v·ªã tr√≠ */
        }
        
        /* --- Tooltip Styles --- */
        .map-tooltip {
            position: fixed;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            max-width: 300px;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            display: none;
        }
        
        .map-tooltip.show {
            display: block;
            opacity: 1;
        }
        
        .tooltip-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
            color: #ffc107;
            border-bottom: 1px solid #555;
            padding-bottom: 5px;
        }
        
        .tooltip-content {
            line-height: 1.4;
        }

        /* --- Story, Values, Team Styles (Gi·ªØ nguy√™n) --- */
        .story-section { padding: 80px 0; }
        .story-card {
            background: white; border-radius: 15px; padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); margin-bottom: 30px;
            transition: transform 0.3s ease;
        }
        .story-card:hover { transform: translateY(-5px); }
        .values-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white; padding: 80px 0;
        }
        .value-item { text-align: center; padding: 30px; margin-bottom: 30px; }
        .value-icon { font-size: 3rem; margin-bottom: 20px; color: #ffc107; }
        .team-section { padding: 80px 0; background: #f8f9fa; }
        .team-member {
            text-align: center; padding: 30px; background: white;
            border-radius: 15px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px; transition: transform 0.3s ease;
        }
        .team-member:hover { transform: translateY(-5px); }
        .member-avatar {
            width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex; align-items: center; justify-content: center;
            font-size: 2rem; color: white;
        }
    </style>
</head>

<body>
    <div layout:fragment="content">
        <section class="about-hero">
            <div class="container">
                <h1 class="display-4 mb-4">V·ªÅ ƒê·∫∑c S·∫£n Vi·ªát</h1>
                <p class="lead">K·∫øt n·ªëi h∆∞∆°ng v·ªã truy·ªÅn th·ªëng t·ª´ kh·∫Øp m·ªçi mi·ªÅn ƒë·∫•t n∆∞·ªõc</p>
            </div>
        </section>

        <section class="story-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="story-card">
                            <h2 class="text-center mb-4">C√¢u Chuy·ªán C·ªßa Ch√∫ng T√¥i</h2>
                            <p class="lead text-center mb-4">
                                ƒê·∫∑c S·∫£n Vi·ªát ra ƒë·ªùi t·ª´ t√¨nh y√™u s√¢u s·∫Øc v·ªõi ·∫©m th·ª±c truy·ªÅn th·ªëng Vi·ªát Nam.
                            </p>
                            <p>
                                Ch√∫ng t√¥i hi·ªÉu r·∫±ng m·ªói v√πng mi·ªÅn ƒë·ªÅu c√≥ nh·ªØng ƒë·∫∑c s·∫£n ri√™ng bi·ªát. 
                                S·ª© m·ªánh c·ªßa ch√∫ng t√¥i l√† k·∫øt n·ªëi nh·ªØng ng∆∞·ªùi y√™u ·∫©m th·ª±c v·ªõi c√°c ngh·ªá nh√¢n 
                                tr√™n kh·∫Øp c·∫£ n∆∞·ªõc.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="values-section">
            <div class="container">
                <h2 class="text-center mb-5">Gi√° Tr·ªã C·ªët L√µi</h2>
                <div class="row">
                    <div class="col-md-4">
                        <div class="value-item">
                            <div class="value-icon">üåæ</div>
                            <h4>Ch·∫•t L∆∞·ª£ng T·ª± Nhi√™n</h4>
                            <p>Nguy√™n li·ªáu t·ª± nhi√™n, kh√¥ng ch·∫•t b·∫£o qu·∫£n.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="value-item">
                            <div class="value-icon">ü§ù</div>
                            <h4>H·ªó Tr·ª£ C·ªông ƒê·ªìng</h4>
                            <p>H·ªó tr·ª£ ngh·ªá nh√¢n v√† l√†ng ngh·ªÅ truy·ªÅn th·ªëng.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="value-item">
                            <div class="value-icon">üöö</div>
                            <h4>Giao H√†ng T·∫≠n T√¢m</h4>
                            <p>B·∫£o qu·∫£n t·ªët nh·∫•t ƒë·∫øn tay kh√°ch h√†ng.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="vietnam-map-section">
            <div class="container">
                <h2 class="text-center mb-5">Kh√°m Ph√° ƒê·∫∑c S·∫£n T·ª´ng T·ªânh Th√†nh</h2>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="map-container">
                            <!-- B·∫£n ƒë·ªì SVG s·∫Ω ƒë∆∞·ª£c t·∫£i ƒë·ªông -->
                            <div style="text-align: center; padding: 50px; color: #6c757d;">
                                üó∫Ô∏è ƒêang kh·ªüi t·∫°o b·∫£n ƒë·ªì...
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <h3>ƒê·∫∑c S·∫£n C√°c V√πng Mi·ªÅn</h3>
                        <div class="region-info">
                            <div class="mb-4">
                                <h5 class="text-primary">üîµ Mi·ªÅn B·∫Øc (26 t·ªânh th√†nh)</h5>
                                <p>H∆∞∆°ng v·ªã tinh t·∫ø, thanh ƒë·∫°m. N·ªïi b·∫≠t v·ªõi c√°c m√≥n nh∆∞ Ph·ªü, B√∫n ch·∫£, C∆°m ch√°y, B√°nh cu·ªën...</p>
                            </div>
                            <div class="mb-4">
                                <h5 class="text-warning">üü° Mi·ªÅn Trung (18 t·ªânh th√†nh)</h5>
                                <p>ƒê·∫≠m ƒë√†, cay n·ªìng. N·ªïi ti·∫øng v·ªõi M√¨ Qu·∫£ng, B√∫n b√≤ Hu·∫ø, B√°nh kho√°i, Nem l·ª•i...</p>
                            </div>
                            <div class="mb-4">
                                <h5 class="text-success">üü¢ Mi·ªÅn Nam (19 t·ªânh th√†nh)</h5>
                                <p>Ng·ªçt ng√†o, d√¢n d√£. Phong ph√∫ v·ªõi C∆°m t·∫•m, H·ªß ti·∫øu, B√°nh x√®o, B√°nh kh·ªçt...</p>
                            </div>
                            <div class="mt-4 p-3 bg-light rounded border">
                                <small class="text-muted">
                                    <i class="bi bi-info-circle me-1"></i>
                                    <strong>H∆∞·ªõng d·∫´n:</strong> Di chu·ªôt qua b·∫£n ƒë·ªì b√™n tr√°i ƒë·ªÉ xem ƒë·∫∑c s·∫£n chi ti·∫øt t·ª´ng t·ªânh. 
                                    Hi·ªán t·∫°i ƒë√£ c·∫≠p nh·∫≠t <strong>63 t·ªânh th√†nh</strong> tr√™n to√†n qu·ªëc.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Script ƒë·∫∑t tr·ª±c ti·∫øp trong content -->
        <script>
            console.log('üöÄ Script trong content ƒë√£ ch·∫°y!');
            
            document.addEventListener('DOMContentLoaded', function() {
                console.log('üöÄ DOMContentLoaded - Script ƒë√£ ch·∫°y!');
                
                // Test c∆° b·∫£n tr∆∞·ªõc
                testBasicFunctionality();
                
                function testBasicFunctionality() {
                    console.log('üîç Ki·ªÉm tra container...');
                    
                    const mapContainer = document.querySelector('.map-container');
                    if (!mapContainer) {
                        console.error('‚ùå Kh√¥ng t√¨m th·∫•y map container');
                        return;
                    }
                    
                    console.log('‚úÖ T√¨m th·∫•y map container');
                    
                    // Test t·∫£i SVG ƒë∆°n gi·∫£n
                    console.log('üì° B·∫Øt ƒë·∫ßu t·∫£i SVG...');
                    
                    fetch('/vn.svg')
                        .then(response => {
                            console.log('üì° Response status:', response.status);
                            console.log('üì° Response ok:', response.ok);
                            
                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                            }
                            return response.text();
                        })
                        .then(svgContent => {
                            console.log('‚úÖ SVG t·∫£i th√†nh c√¥ng!');
                            console.log('üìè K√≠ch th∆∞·ªõc SVG:', svgContent.length, 'k√Ω t·ª±');
                            
                            // Hi·ªÉn th·ªã SVG ƒë∆°n gi·∫£n
                            displaySimpleSVG(svgContent);
                        })
                        .catch(error => {
                            console.error('‚ùå L·ªói t·∫£i SVG:', error);
                            showErrorMessage();
                        });
                }
                
                function displaySimpleSVG(svgContent) {
                    console.log('üé® Hi·ªÉn th·ªã SVG...');
                    
                    const mapContainer = document.querySelector('.map-container');
                    
                    // ƒê∆°n gi·∫£n ch·ªâ hi·ªÉn th·ªã SVG
                    mapContainer.innerHTML = `
                        <div style="text-align: center;">
                            <h5>B·∫£n ƒë·ªì Vi·ªát Nam</h5>
                            <div style="max-width: 400px; margin: 0 auto; border: 2px solid #007bff; border-radius: 10px; padding: 10px;">
                                ${svgContent}
                            </div>
                        </div>
                    `;
                    
                    // T√¨m SVG v√† style c∆° b·∫£n
                    const svg = mapContainer.querySelector('svg');
                    if (svg) {
                        console.log('‚úÖ SVG element found!');
                        svg.style.width = '100%';
                        svg.style.height = 'auto';
                        svg.style.maxHeight = '400px';
                        
                        // ƒê·∫øm provinces
                        const provinces = svg.querySelectorAll('path[id^="VN"]');
                        console.log(`üó∫Ô∏è T√¨m th·∫•y ${provinces.length} t·ªânh th√†nh`);
                        
                        if (provinces.length > 0) {
                            console.log('üéâ B·∫£n ƒë·ªì hi·ªÉn th·ªã th√†nh c√¥ng!');
                            
                            // Th√™m m√†u ƒë∆°n gi·∫£n cho test
                            provinces.forEach((province, index) => {
                                const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'];
                                province.style.fill = colors[index % colors.length];
                                province.style.stroke = '#fff';
                                province.style.strokeWidth = '0.5';
                                province.style.cursor = 'pointer';
                                
                                // Click event ƒë∆°n gi·∫£n
                                province.addEventListener('click', function() {
                                    const id = this.getAttribute('id');
                                    const name = this.getAttribute('name') || id;
                                    alert(`Clicked: ${name} (${id})`);
                                });
                            });
                        } else {
                            console.warn('‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y province n√†o');
                        }
                    } else {
                        console.error('‚ùå Kh√¥ng t√¨m th·∫•y SVG element');
                    }
                }
                
                function showErrorMessage() {
                    const mapContainer = document.querySelector('.map-container');
                    if (!mapContainer) return;
                    
                    mapContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 15px; border: 2px solid #dc3545;">
                            <h4 style="color: #dc3545;">‚ùå L·ªói t·∫£i b·∫£n ƒë·ªì</h4>
                            <p>Kh√¥ng th·ªÉ t·∫£i file SVG. Vui l√≤ng ki·ªÉm tra:</p>
                            <ul style="text-align: left; display: inline-block;">
                                <li>File vn.svg c√≥ t·ªìn t·∫°i kh√¥ng?</li>
                                <li>Server c√≥ ch·∫°y kh√¥ng?</li>
                                <li>ƒê∆∞·ªùng d·∫´n /vn.svg c√≥ ƒë√∫ng kh√¥ng?</li>
                            </ul>
                            <button onclick="location.reload()" style="background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
                                üîÑ Th·ª≠ l·∫°i
                            </button>
                        </div>
                    `;
                }
            });
        </script>

        <section class="team-section">
            <div class="container">
                <h2 class="text-center mb-5">ƒê·ªôi Ng≈©</h2>
                <div class="row">
                    <div class="col-md-4">
                        <div class="team-member">
                            <div class="member-avatar">üë®‚Äçüíº</div>
                            <h5>Nguy·ªÖn VƒÉn A</h5>
                            <p class="text-muted">Founder & CEO</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="team-member">
                            <div class="member-avatar">üë©‚Äçüç≥</div>
                            <h5>Tr·∫ßn Th·ªã B</h5>
                            <p class="text-muted">Head of Quality</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="team-member">
                            <div class="member-avatar">üë®‚Äçüíª</div>
                            <h5>L√™ VƒÉn C</h5>
                            <p class="text-muted">Tech Lead</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-5 bg-primary text-white text-center">
            <div class="container">
                <h3>Li√™n H·ªá V·ªõi Ch√∫ng T√¥i</h3>
                <p class="lead mb-4">Ch√∫ng t√¥i lu√¥n s·∫µn s√†ng l·∫Øng nghe!</p>
                <a href="mailto:info@dacsanviet.com" class="btn btn-light btn-lg">
                    üìß info@dacsanviet.com
                </a>
            </div>
        </section>
    </div>

    <!-- Script s·ª≠ d·ª•ng fragment ƒë√∫ng -->
    <th:block th:fragment="scripts-extra">
        <script>
            console.log('üöÄ Script trong scripts-extra ƒë√£ ch·∫°y!');
            
            document.addEventListener('DOMContentLoaded', function() {
                console.log('üöÄ DOMContentLoaded - Script ƒë√£ ch·∫°y!');
                
                // Test c∆° b·∫£n tr∆∞·ªõc
                testBasicFunctionality();
                
                function testBasicFunctionality() {
                    console.log('üîç Ki·ªÉm tra container...');
                    
                    const mapContainer = document.querySelector('.map-container');
                    if (!mapContainer) {
                        console.error('‚ùå Kh√¥ng t√¨m th·∫•y map container');
                        return;
                    }
                    
                    console.log('‚úÖ T√¨m th·∫•y map container');
                    
                    // Test t·∫£i SVG ƒë∆°n gi·∫£n
                    console.log('üì° B·∫Øt ƒë·∫ßu t·∫£i SVG...');
                    
                    fetch('/vn.svg')
                        .then(response => {
                            console.log('üì° Response status:', response.status);
                            console.log('üì° Response ok:', response.ok);
                            
                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                            }
                            return response.text();
                        })
                        .then(svgContent => {
                            console.log('‚úÖ SVG t·∫£i th√†nh c√¥ng!');
                            console.log('üìè K√≠ch th∆∞·ªõc SVG:', svgContent.length, 'k√Ω t·ª±');
                            
                            // Hi·ªÉn th·ªã SVG ƒë∆°n gi·∫£n
                            displaySimpleSVG(svgContent);
                        })
                        .catch(error => {
                            console.error('‚ùå L·ªói t·∫£i SVG:', error);
                            showErrorMessage();
                        });
                }
                
                function displaySimpleSVG(svgContent) {
                    console.log('üé® Hi·ªÉn th·ªã SVG...');
                    
                    const mapContainer = document.querySelector('.map-container');
                    
                    // ƒê∆°n gi·∫£n ch·ªâ hi·ªÉn th·ªã SVG
                    mapContainer.innerHTML = `
                        <div style="text-align: center;">
                            <h5>B·∫£n ƒë·ªì Vi·ªát Nam</h5>
                            <div style="max-width: 400px; margin: 0 auto; border: 2px solid #007bff; border-radius: 10px; padding: 10px;">
                                ${svgContent}
                            </div>
                        </div>
                    `;
                    
                    // T√¨m SVG v√† style c∆° b·∫£n
                    const svg = mapContainer.querySelector('svg');
                    if (svg) {
                        console.log('‚úÖ SVG element found!');
                        svg.style.width = '100%';
                        svg.style.height = 'auto';
                        svg.style.maxHeight = '400px';
                        
                        // ƒê·∫øm provinces
                        const provinces = svg.querySelectorAll('path[id^="VN"]');
                        console.log(`üó∫Ô∏è T√¨m th·∫•y ${provinces.length} t·ªânh th√†nh`);
                        
                        if (provinces.length > 0) {
                            console.log('üéâ B·∫£n ƒë·ªì hi·ªÉn th·ªã th√†nh c√¥ng!');
                            
                            // Th√™m m√†u ƒë∆°n gi·∫£n cho test
                            provinces.forEach((province, index) => {
                                const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'];
                                province.style.fill = colors[index % colors.length];
                                province.style.stroke = '#fff';
                                province.style.strokeWidth = '0.5';
                                province.style.cursor = 'pointer';
                                
                                // Click event ƒë∆°n gi·∫£n
                                province.addEventListener('click', function() {
                                    const id = this.getAttribute('id');
                                    const name = this.getAttribute('name') || id;
                                    alert(`Clicked: ${name} (${id})`);
                                });
                            });
                        } else {
                            console.warn('‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y province n√†o');
                        }
                    } else {
                        console.error('‚ùå Kh√¥ng t√¨m th·∫•y SVG element');
                    }
                }
                
                function showErrorMessage() {
                    const mapContainer = document.querySelector('.map-container');
                    if (!mapContainer) return;
                    
                    mapContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 15px; border: 2px solid #dc3545;">
                            <h4 style="color: #dc3545;">‚ùå L·ªói t·∫£i b·∫£n ƒë·ªì</h4>
                            <p>Kh√¥ng th·ªÉ t·∫£i file SVG. Vui l√≤ng ki·ªÉm tra:</p>
                            <ul style="text-align: left; display: inline-block;">
                                <li>File vn.svg c√≥ t·ªìn t·∫°i kh√¥ng?</li>
                                <li>Server c√≥ ch·∫°y kh√¥ng?</li>
                                <li>ƒê∆∞·ªùng d·∫´n /vn.svg c√≥ ƒë√∫ng kh√¥ng?</li>
                            </ul>
                            <button onclick="location.reload()" style="background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
                                üîÑ Th·ª≠ l·∫°i
                            </button>
                        </div>
                    `;
                }
            });
        </script>
    </th:block>
</body>
</html>